<!DOCTYPE html>
<html lang="de">
  <!-- =================================================
       HEAD: Meta, Title, and Stylesheets
       ================================================= -->
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1.0" />
    <title>🏘️ Immobilienbewertung2.0</title>
    <link
      rel="icon"
      type="image/png"
      href="favicon_house_16x16.png"
      sizes="16x16"
    />
    <link rel="stylesheet" href="../src/styles/colors.css" />
    <link rel="stylesheet" href="../src/styles/global.css" />
  </head>

  <body>
    <main>
      <!-- Form container with semantic class and novalidate to handle validation via JS -->
      <form id="property-form" class="form-card" novalidate>
        <!-- Form header using existing h1 -->
        <header class="site-header" id="site-header">
          <h1>
            <span aria-hidden="true">🏘️</span>
            <span>Immobilienbewertung 2.0</span>
          </h1>
        </header>

        <!-- =================================================
             SECTION 1: advertisement
             ================================================= -->
        <section class="form-section">
          <!-- Legend for required fields -->
            <div class="legend">
              <span class="legend-asterisk" title="Pflichtfelder">*</span> 
              <span class="legend-separator">|</span>
              <span class="legend-unknown" title="Unbekannt">?</span>
            </div>
          <header class="form-section-header">📥 Inseratsdaten</header>
          <div class="form-section-content">
            <!-- URL -->
            <div class="input-field">
              <label class="label-field" for="input-listingUrl">URL (Inserat)</label>
              <input
                type="text"
                id="input-listingUrl"
                placeholder="z. B. https://www.immobilienscout24.de/..."
                autocomplete="off"
              />
            </div>

            <!-- Flex container for side-by-side dropdowns -->
            <div class="flex-row">
              <!-- Listing Type -->
              <div class="input-field">
                <label class="label-field" for="dropdown-buildingType"><span class="legend-asterisk">*</span> Immobilientyp</label>
                <select class="dropdown-field" id="dropdown-buildingType" required>
                  <option value="">Bitte auswählen</option>
                  <option value="house">Haus</option>
                  <option value="apartment">Eigentumswohnung</option>
                </select>
              </div>

              <!-- Agent Type -->
              <div class="input-field">
                <label class="label-field" for="dropdown-agentType"><span class="legend-asterisk">*</span> Anbieter</label>
                <select class="dropdown-field" id="dropdown-agentType" required>
                  <option value="">Bitte auswählen</option>
                  <option value="privat">Privat</option>
                  <option value="makler">Makler (+3,57% Provision)</option>
                </select>
              </div>
            </div>
          </div>
        </section>

        <!-- =================================================
             SECTION 2: listingData
             ================================================= -->
        <section class="form-section">
          <header class="form-section-header">📊 Immobiliendaten</header>
          <div class="form-section-content">
            <!-- Flex container for side-by-side fields -->
            <div class="flex-row">
              <!-- Size -->
              <div class="input-field">
                <label class="label-field" for="input-buildingSize"><span class="legend-asterisk">*</span> Wohnfläche (m²)</label>
                <input
                  type="text"
                  id="input-buildingSize"
                  placeholder="z. B. 50"
                  autocomplete="off"
                />
              </div>

              <!-- Rooms -->
              <div class="input-field">
                <label class="label-field" for="dropdown-rooms">Zimmer</label>
                <select class="dropdown-field" id="dropdown-rooms" required>
                  <option value="">Bitte auswählen</option>
                  <option value="1">1</option>
                  <option value="2">2</option>
                  <option value="3">3</option>
                  <option value="4">4</option>
                  <option value="5">5</option>
                  <option value="6">&gt;5</option>
                </select>
              </div>
            </div>

            <div class="flex-row">
              <!-- purchasePrice -->
              <div class="input-field">
                <label class="label-field" for="input-purchasePrice"><span class="legend-asterisk">*</span> Kaufpreis (€)</label>
                <input type="text" id="input-purchasePrice" placeholder="z. B. 100000" autocomplete="off" />
              </div>

              <!-- rentPerM2 -->
              <div class="input-field">
                <label class="label-field" for="input-rentPerM2"><span class="legend-unknown">?</span> Miete pro m² (€)</label>
                <input type="text" id="input-rentPerM2" placeholder="z. B. 8,50" autocomplete="off" />
              </div>
            </div>

            <div class="flex-row">
              <!-- HOA -->
              <div class="input-field">
                <label class="label-field" for="input-hoa"><span class="legend-unknown">?</span> Hausgeld (monatlich, €)</label>
                <input
                  type="text"
                  id="input-hoa"
                  placeholder="z. B. 120"
                  autocomplete="off"
                />
              </div>

              <!-- Location -->
              <div class="input-field">
                <label class="label-field" for="dropdown-location"><span class="legend-asterisk">*</span> Lage</label>
                <select class="dropdown-field" id="dropdown-location" required>
                  <option value="">Bitte auswählen</option>
                  <option value="top">Toplage</option>
                  <option value="good">Gut</option>
                  <option value="medium">Mittel</option>
                  <option value="poor">Schlecht</option>
                </select>
              </div>
            </div>

            <div class="flex-row">
              <!-- qmPrice -->
              <div class="output-field">
                <label class="label-field" for="output-qmPrice">Quadratmeterpreis (€)</label>
                <div id="output-qmPrice" class="display-value">
                  <span class="auto-calc">Auto-Berechnung 🧮</span>
                </div>
              </div>

              <!-- annualRent -->
              <div class="output-field">
                <label class="label-field" for="output-annualRent">Jahresnettomiete (€)</label>
                <div id="output-annualRent" class="display-value">
                  <span class="auto-calc">Auto-Berechnung 🧮</span>
                </div>
              </div>
            </div>
        </section>

        <!-- =================================================
             SECTION 3: funding
             ================================================= -->
        <section class="form-section">
          <header class="form-section-header">💶 Finanzierung</header>
          <div class="form-section-content">
            <div class="flex-row">
              <!-- interest -->
              <div class="input-field">
                <label class="label-field" for="input-interest"><span class="legend-asterisk">* <span class="legend-unknown">?</span> </span> Zinssatz (%)</label>
                <input type="text" id="input-interest" placeholder="z. B. 3" autocomplete="off" />
              </div>

              <!-- depreciationRate -->
              <div class="input-field">
                <label class="label-field" for="input-depreciationRate"><span class="legend-asterisk">* </span><span class="legend-unknown">?</span>  Tilgungssatz (%)</label>
                <input type="text" id="input-depreciationRate" placeholder="z. B. 2" autocomplete="off" />
              </div>
            </div>

            <div class="flex-row">
              <!-- equity -->
              <div class="input-field">
                <label class="label-field" for="input-equity"><span class="legend-asterisk">*</span> Eigenkapital (€)</label>
                <input type="text" id="input-equity" placeholder="z. B. 100000" autocomplete="off" />
              </div>

              <!-- loanPayment -->
              <div class="output-field">
                <label class="label-field" for="output-qmPrice">Monatliche Kreditrate (€)</label>
                <div id="output-qmPrice" class="display-value">
                  <span class="auto-calc">Auto-Berechnung 🧮</span>
                </div>
              </div>
        </section>

        <!-- =================================================
             SECTION 4: buildingCondition
             ================================================= -->
        <section class="form-section">
          <header class="form-section-header">🏗️ Gebäudezustand</header>
          <div class="form-section-content">
            <div class="flex-row">
              <!-- yearBuilt -->
              <div class="input-field">
                <label class="label-field" for="dropdown-yearBuilt"><span class="legend-asterisk">*</span> Baujahr</label>
                <select class="dropdown-field" id="dropdown-yearBuilt" required>
                  <option value="">Bitte auswählen</option>
                  <option value="pre1970">&lt;1970</option>
                  <option value="1970-1999">1970–1999</option>
                  <option value="post2000">≥2000</option>
                </select>
              </div>

              <!-- energyClass -->
              <div class="input-field">
                <label class="label-field" for="dropdown-energyClass"><span class="legend-unknown">?</span> Energieeffizienz</label>
                <select class="dropdown-field" id="dropdown-energyClass" required>
                  <option value="">Bitte auswählen</option>
                  <option value="ab">A/B</option>
                  <option value="c">C</option>
                  <option value="d">D</option>
                  <option value="e">E oder schlechter</option>
                </select>
              </div>

              <!-- condition -->
              <div class="input-field">
                <label class="label-field" for="dropdown-condition"><span class="legend-asterisk">*</span> Zustand</label>
                <select class="dropdown-field" id="dropdown-condition" required>
                  <option value="">Bitte auswählen</option>
                  <option value="new">Neuwertig</option>
                  <option value="good">Gut</option>
                  <option value="renovate">Renovierungsbedürftig</option>
                </select>
              </div>
            </div>
          </div>
        </section>

        <!-- =================================================
             SECTION 5: costs
             ================================================= -->
        <section class="form-section">
          <header class="form-section-header">💰 Kosten</header>
          <div class="form-section-content">
            <div class="flex-row">
              <!-- addCosts -->
              <div class="output-field">
                <label class="label-field" for="output-addCosts">Kaufnebenkosten (~10% Kaufpreis)</label>
                <div id="output-addCosts" class="display-value">
                  <span class="auto-calc">Auto-Berechnung 🧮</span>
                </div>
              </div>

              <!-- renovationCosts -->
              <div class="output-field">
                <label class="label-field" for="output-renovationCosts">Geschätzte Renovierungskosten (€)</label>
                <div id="output-renovationCosts" class="display-value">
                  <span class="auto-calc">Auto-Berechnung 🧮</span>
                </div>
              </div>
          </div>
              
               <!-- effPurchasePrice -->
              <div class="output-field">
                <label class="label-field" for="output-effPurchasePrice">Effektiver Kaufpreis (€)</label>
                <div id="output-effPurchasePrice" class="display-value">
                  <span class="auto-calc">Auto-Berechnung 🧮</span>
                </div>
              </div>
              

        </section>

        <!-- =================================================
             FORM ACTION BUTTONS
             ================================================= -->
        <div class="form-buttons">
          <button type="submit" class="btn btn-primary">☑ Bewerten</button>
          <button type="reset" class="btn btn-danger">🗑️ Reset</button>
          <button type="button" class="btn btn-warning">🧪 Test</button>
        </div>

        <!-- Form content will go here later -->
      </form>
    </main>

    <!-- =================================================
           SCRIPTS: JavaScript Imports
           ================================================= -->
    <script type="module" src="../src/modules/app.js"></script>
  </body>
</html>