<!DOCTYPE html>
<html lang="de">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Immobilienbewertung</title>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chartjs-plugin-datalabels@2.0.0"></script>
    <link rel="stylesheet" href="global.css" />
    <link rel="icon" type="image/png" href="favicon_house_16x16.png" sizes="16x16" />
  </head>
  <body>
    <div class="container">
      <form id="form">
        <h1>ğŸ˜ï¸ Immobilienbewertung 2.0</h1>
        <label for="price">ğŸ’¶ Kaufpreis (â‚¬)</label>
        <input
          type="number"
          id="price"
          required
          min="1"
          placeholder="z.B. 250000"
        />
        <label for="area">ğŸ“ GrÃ¶ÃŸe (mÂ²)</label>
        <input type="number" id="area" required min="1" placeholder="z.B. 70" />
        <label for="rentPerSqm">ğŸ’° Mietpreis pro mÂ² (â‚¬)</label>
        <input
          type="number"
          id="rentPerSqm"
          required
          min="0"
          placeholder="z.B. 10.5"
        />
        <label for="hausgeld">ğŸ¢ Hausgeld (monatlich, â‚¬)</label>
        <input
          type="number"
          id="hausgeld"
          required
          min="0"
          placeholder="z.B. 200"
        />
        <label for="interest">ğŸ“‰ Zinssatz (%)</label>
        <input
          type="number"
          id="interest"
          step="0.1"
          required
          min="0"
          placeholder="z.B. 3.5"
        />
        <label for="repayment">ğŸ“ˆ Tilgung (%)</label>
        <input
          type="number"
          id="repayment"
          step="0.1"
          required
          min="0"
          placeholder="z.B. 2"
        />
        <label for="commissionType">ğŸ¤ Provisionsart</label>
        <select id="commissionType">
          <option value="privat">Privat</option>
          <option value="makler">Makler (+3.57% Provision)</option>
        </select>
        <label for="year">ğŸ—ï¸ Baujahr</label>
        <select id="year">
          <option value="<1970">vor 1970</option>
          <option value="1970-1999">1970â€“1999</option>
          <option value=">=2000">ab 2000</option>
        </select>
        <label for="energy">âš¡ Energieeffizienz</label>
        <select id="energy">
          <option value="A">A/B</option>
          <option value="C">C</option>
          <option value="D">D</option>
          <option value="E">E oder schlechter</option>
        </select>
        <label for="location">ğŸ“ Lage</label>
        <select id="location">
          <option value="top">Toplage</option>
          <option value="gut">Gut</option>
          <option value="mittel">Mittel</option>
          <option value="schlecht">Schlecht</option>
        </select>
        <label for="condition">ğŸ”§ Zustand</label>
        <select id="condition">
          <option value="neu">Neuwertig</option>
          <option value="gut">Gut</option>
          <option value="renovierung">RenovierungsbedÃ¼rftig</option>
        </select>
        <div class="button-group">
          <button type="submit" class="bewerten-btn">Bewerten</button>
          <button type="button" id="resetBtn" class="reset-btn">Reset</button>
          <button type="button" id="testBtn" class="test-btn">TEST</button>
        </div>
      </form>
      <div id="result" class="score-box"></div>
    </div>
    <script src="app.js"></script>
    <script>
      const resultBox = document.getElementById("result");
      resultBox.innerHTML = `
        <div class="fazit-container metric-background ${
          score >= 85 ? "green" : score >= 55 ? "orange" : "red"
        }">
          <h3>Fazit und Kaufpreisanalyse</h3>
          <!-- Fazit content here -->
        </div>
        <div class="analysis-flex">
          <div class="details-box">
            <h3>Detaillierte Analyse</h3>
            <div class="details-content">
              <p>
                <span class="metric-icon ${priceStatus.className}">${
        priceStatus.icon
      }</span>
                <strong>Aktueller Kaufpreis:</strong>
                <span>${formatCurrency(inputValues.price)}</span>
              </p>
              <p>
                <span class="metric-icon ${rentStatus.className}">${
        rentStatus.icon
      }</span>
                <strong>Jahresnetto-Miete:</strong>
                <span>${formatCurrency(annualRent)}</span>
              </p>
              <p>
                <span class="metric-icon ${hausgeldStatus.className}">${
        hausgeldStatus.icon
      }</span>
                <strong>Monatliches Hausgeld:</strong>
                <span>${inputValues.hausgeld.toLocaleString("de-DE", {
                  minimumFractionDigits: 2,
                  maximumFractionDigits: 2,
                })} â‚¬</span>
              </p>
              <p>
                <span class="metric-icon ${rateStatus.className}">${
        rateStatus.icon
      }</span>
                <strong>Monatliche Kreditrate:</strong>
                <span>${monthlyPayment.toLocaleString("de-DE", {
                  minimumFractionDigits: 2,
                  maximumFractionDigits: 2,
                })} â‚¬</span>
              </p>
            </div>
          </div>
          <div class="chart-container-wrapper">
            <div class="chart-center-label">
              <canvas id="scoreChart"></canvas>
              <div id="chartCenterText"></div>
            </div>
          </div>
        </div>
      `;
    </script>
  </body>
</html>
